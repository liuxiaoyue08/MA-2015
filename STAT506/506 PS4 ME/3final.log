1                                                          The SAS System                          21:17 Wednesday, December 2, 2015

NOTE: Copyright (c) 2002-2010 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.3 (TS1M1) 
      Licensed to UNIVERSITY OF MICHIGAN-SFA-T&R, Site 70080438.
NOTE: This session is executing on the Linux 2.6.32-504.12.2.el6.x86_64 (LIN X64) platform.



NOTE: Updated analytical products:

SAS/STAT 9.3_M1, SAS/ETS 9.3_M1, SAS/OR 9.3_M1

You are running SAS 9. Some SAS 8 files will be automatically converted 
by the V9 engine; others are incompatible.  Please see 
http://support.sas.com/rnd/migration/planning/platform/64bit.html

PROC MIGRATE will preserve current SAS file attributes and is 
recommended for converting all your SAS libraries from any 
SAS 8 release to SAS 9.  For details and examples, please see
http://support.sas.com/rnd/migration/index.html


This message is contained in the SAS news file, and is presented upon
initialization.  Edit the file "news" in the "misc/base" directory to
display site-specific news and information in the program log.
The command line option "-nonews" will prevent this display.




NOTE: SAS initialization used:
      real time           0.06 seconds
      cpu time            0.02 seconds
      
1          libname mydata '~/506/';
NOTE: Libref MYDATA was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /afs/umich.edu/user/x/i/xiaoyliu/506
1        !                         
2          filename ghcnd_gz pipe "gzip -dc 2014.csv.gz" lrecl=80;
3          
4          data ghcnd14(rename=(obsval=tmax14));
5               infile ghcnd_gz delimiter=",";
6               input station $ date : yymmdd8. obstype $ obsval;
7               format date mmddyy10.;
8               month = month(date);
9               if obstype="TMAX" and month=1;
10              obsval=obsval/10;
11         

NOTE: The infile GHCND_GZ is:
      Pipe command="gzip -dc 2014.csv.gz"

NOTE: 33139529 records were read from the infile GHCND_GZ.
      The minimum record length was 32.
      The maximum record length was 40.
NOTE: The data set WORK.GHCND14 has 379120 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           27.09 seconds
2                                                          The SAS System                          21:17 Wednesday, December 2, 2015

      cpu time            27.04 seconds
      

12         proc sql;
12       !          
13              create table mntmax_14 as
14              select station,mean(tmax14) as mntmax14
15              from ghcnd14
16              group by station;
NOTE: Table WORK.MNTMAX_14 created, with 1893 rows and 2 columns.

16       !                       
17         quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.07 seconds
      cpu time            0.21 seconds
      

17       !      
18         
19         filename ghcnd_gz pipe "gzip -dc 2013.csv.gz" lrecl=80;
20         
21         data ghcnd13(rename=(obsval=tmax13));
22              infile ghcnd_gz delimiter=",";
23              input station $ date : yymmdd8. obstype $ obsval;
24              format date mmddyy10.;
25              month = month(date);
26              if obstype="TMAX" and month=1;
27              obsval=obsval/10;
28         

NOTE: The infile GHCND_GZ is:
      Pipe command="gzip -dc 2013.csv.gz"

NOTE: 33879674 records were read from the infile GHCND_GZ.
      The minimum record length was 32.
      The maximum record length was 41.
NOTE: The data set WORK.GHCND13 has 410863 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           27.21 seconds
      cpu time            27.13 seconds
      

29         proc sql;
29       !          
30              create table mntmax_13 as
31              select station,mean(tmax13) as mntmax13
32              from ghcnd13
33              group by station;
NOTE: Table WORK.MNTMAX_13 created, with 1905 rows and 2 columns.

33       !                       
34         quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.07 seconds
      cpu time            0.21 seconds
      

3                                                          The SAS System                          21:17 Wednesday, December 2, 2015

34       !       
35         
36         data meantmax;
37              merge mntmax_14(in=x) mntmax_13(in=y);
38              by station;
39              if x=1 and y=1;
40              tmax_diff=mntmax14-mntmax13;
41         

NOTE: There were 1893 observations read from the data set WORK.MNTMAX_14.
NOTE: There were 1905 observations read from the data set WORK.MNTMAX_13.
NOTE: The data set WORK.MEANTMAX has 1856 observations and 4 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

42         proc export data=meantmax dbms=tab outfile="meantmax.txt" replace;
42       !                                                                   
43         

44         proc univariate data=meantmax;
45          /**********************************************************************
46          *   PRODUCT:   SAS
47          *   VERSION:   9.3
48          *   CREATOR:   External File Interface
49          *   DATE:      02DEC15
50          *   DESC:      Generated SAS Datastep Code
51          *   TEMPLATE SOURCE:  (None Specified.)
52          ***********************************************************************/
53             data _null_;
54             %let _EFIERR_ = 0; /* set the ERROR detection macro variable */
55             %let _EFIREC_ = 0;     /* clear export record count macro variable */
56             file 'meantmax.txt' delimiter='09'x DSD DROPOVER lrecl=32767;
57             if _n_ = 1 then        /* write column names or labels */
58              do;
59                put
60                   "station"
61                '09'x
62                   "mntmax14"
63                '09'x
64                   "mntmax13"
65                '09'x
66                   "tmax_diff"
67                ;
68              end;
69            set  MEANTMAX   end=EFIEOD;
70                format station $8. ;
71                format mntmax14 best12. ;
72                format mntmax13 best12. ;
73                format tmax_diff best12. ;
74              do;
75                EFIOUT + 1;
76                put station $ @;
77                put mntmax14 @;
78                put mntmax13 @;
79                put tmax_diff ;
80                ;
4                                                          The SAS System                          21:17 Wednesday, December 2, 2015

81              end;
82             if _ERROR_ then call symputx('_EFIERR_',1);  /* set ERROR detection macro variable */
83             if EFIEOD then call symputx('_EFIREC_',EFIOUT);
84             run;

NOTE: The file 'meantmax.txt' is:
      Filename=/afs/umich.edu/user/x/i/xiaoyliu/506/meantmax.txt,
      Owner Name=xiaoyliu,Group Name=wheel,
      Access Permission=rw-r--r--,
      Last Modified=Wed Dec  2 21:18:20 2015

NOTE: 1857 records were written to the file 'meantmax.txt'.
      The minimum record length was 22.
      The maximum record length was 47.
NOTE: There were 1856 observations read from the data set WORK.MEANTMAX.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

1856 records created in meantmax.txt from MEANTMAX.
  
  
NOTE: "meantmax.txt" file was successfully created.
NOTE: PROCEDURE EXPORT used (Total process time):
      real time           0.05 seconds
      cpu time            0.04 seconds
      

85              var tmax_diff;
86              output out=tmax_diff_quantile pctlpts=10,90 pctlpre=tmax_diff;
87         

NOTE: The data set WORK.TMAX_DIFF_QUANTILE has 1 observations and 2 variables.
NOTE: The PROCEDURE UNIVARIATE printed pages 1-2.
NOTE: PROCEDURE UNIVARIATE used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

88         proc print data=tmax_diff_quantile;
89         

NOTE: There were 1 observations read from the data set WORK.TMAX_DIFF_QUANTILE.
NOTE: The PROCEDURE PRINT printed page 3.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

90         data meantmax_10;
91              set meantmax;
92              if tmax_diff ge -4.36793 and tmax_diff lt 3.70990 then delete;
93              else if tmax_diff lt -4.36793 then indicator=1;
94              else if tmax_diff ge 3.70990 then indicator=2;
95         

NOTE: There were 1856 observations read from the data set WORK.MEANTMAX.
5                                                          The SAS System                          21:17 Wednesday, December 2, 2015

NOTE: The data set WORK.MEANTMAX_10 has 372 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

96         data stations;
97              infile "ghcnd-stations.txt";
98              input station $ 1-11 lat 13-20 lon 22-30 elev 32-37 state $ 39-40;
99         

NOTE: The infile "ghcnd-stations.txt" is:
      Filename=/afs/umich.edu/user/x/i/xiaoyliu/506/ghcnd-stations.txt,
      Owner Name=xiaoyliu,Group Name=wheel,
      Access Permission=rw-r--r--,
      Last Modified=Tue Nov 17 10:53:58 2015,
      File Size (bytes)=8552184

NOTE: 99444 records were read from the infile "ghcnd-stations.txt".
      The minimum record length was 85.
      The maximum record length was 85.
NOTE: The data set WORK.STATIONS has 99444 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.04 seconds
      

100        proc sort data=stations out=stations2;
101             by station;
102        

NOTE: There were 99444 observations read from the data set WORK.STATIONS.
NOTE: The data set WORK.STATIONS2 has 99444 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

103        data meantmax_10_map;
104             merge meantmax_10(in=x) stations2(in=y);
105             by station;
106             if x=1 and y=1;
107        

WARNING: Multiple lengths were specified for the BY variable station by input data sets. This may cause unexpected results.
NOTE: There were 372 observations read from the data set WORK.MEANTMAX_10.
NOTE: There were 99444 observations read from the data set WORK.STATIONS2.
NOTE: The data set WORK.MEANTMAX_10_MAP has 11481 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

108        proc export data=meantmax_10_map dbms=tab outfile="meantmaxmap.txt" replace;
109         /**********************************************************************
110         *   PRODUCT:   SAS
111         *   VERSION:   9.3
112         *   CREATOR:   External File Interface
6                                                          The SAS System                          21:17 Wednesday, December 2, 2015

113         *   DATE:      02DEC15
114         *   DESC:      Generated SAS Datastep Code
115         *   TEMPLATE SOURCE:  (None Specified.)
116         ***********************************************************************/
117            data _null_;
118            %let _EFIERR_ = 0; /* set the ERROR detection macro variable */
119            %let _EFIREC_ = 0;     /* clear export record count macro variable */
120            file 'meantmaxmap.txt' delimiter='09'x DSD DROPOVER lrecl=32767;
121            if _n_ = 1 then        /* write column names or labels */
122             do;
123               put
124                  "station"
125               '09'x
126                  "mntmax14"
127               '09'x
128                  "mntmax13"
129               '09'x
130                  "tmax_diff"
131               '09'x
132                  "indicator"
133               '09'x
134                  "lat"
135               '09'x
136                  "lon"
137               '09'x
138                  "elev"
139               '09'x
140                  "state"
141               ;
142             end;
143           set  MEANTMAX_10_MAP   end=EFIEOD;
144               format station $8. ;
145               format mntmax14 best12. ;
146               format mntmax13 best12. ;
147               format tmax_diff best12. ;
148               format indicator best12. ;
149               format lat best12. ;
150               format lon best12. ;
151               format elev best12. ;
152               format state $2. ;
153             do;
154               EFIOUT + 1;
155               put station $ @;
156               put mntmax14 @;
157               put mntmax13 @;
158               put tmax_diff @;
159               put indicator @;
160               put lat @;
161               put lon @;
162               put elev @;
163               put state $ ;
164               ;
165             end;
166            if _ERROR_ then call symputx('_EFIERR_',1);  /* set ERROR detection macro variable */
167            if EFIEOD then call symputx('_EFIREC_',EFIOUT);
168            run;

NOTE: The file 'meantmaxmap.txt' is:
7                                                          The SAS System                          21:17 Wednesday, December 2, 2015

      Filename=/afs/umich.edu/user/x/i/xiaoyliu/506/meantmaxmap.txt,
      Owner Name=xiaoyliu,Group Name=wheel,
      Access Permission=rw-r--r--,
      Last Modified=Wed Dec  2 21:18:21 2015

NOTE: 11482 records were written to the file 'meantmaxmap.txt'.
      The minimum record length was 48.
      The maximum record length was 77.
NOTE: There were 11481 observations read from the data set WORK.MEANTMAX_10_MAP.
NOTE: DATA statement used (Total process time):
      real time           0.07 seconds
      cpu time            0.04 seconds
      

11481 records created in meantmaxmap.txt from MEANTMAX_10_MAP.
  
  
NOTE: "meantmaxmap.txt" file was successfully created.
NOTE: PROCEDURE EXPORT used (Total process time):
      real time           0.10 seconds
      cpu time            0.07 seconds
      


NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           54.79 seconds
      cpu time            54.81 seconds
      
