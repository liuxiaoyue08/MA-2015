1                                                          The SAS System                            16:44 Tuesday, December 1, 2015

NOTE: Copyright (c) 2002-2010 by SAS Institute Inc., Cary, NC, USA. 
NOTE: SAS (r) Proprietary Software 9.3 (TS1M1) 
      Licensed to UNIVERSITY OF MICHIGAN-SFA-T&R, Site 70080438.
NOTE: This session is executing on the Linux 2.6.32-504.12.2.el6.x86_64 (LIN X64) platform.



NOTE: Updated analytical products:

SAS/STAT 9.3_M1, SAS/ETS 9.3_M1, SAS/OR 9.3_M1

You are running SAS 9. Some SAS 8 files will be automatically converted 
by the V9 engine; others are incompatible.  Please see 
http://support.sas.com/rnd/migration/planning/platform/64bit.html

PROC MIGRATE will preserve current SAS file attributes and is 
recommended for converting all your SAS libraries from any 
SAS 8 release to SAS 9.  For details and examples, please see
http://support.sas.com/rnd/migration/index.html


This message is contained in the SAS news file, and is presented upon
initialization.  Edit the file "news" in the "misc/base" directory to
display site-specific news and information in the program log.
The command line option "-nonews" will prevent this display.




NOTE: SAS initialization used:
      real time           0.34 seconds
      cpu time            0.02 seconds
      
1          libname mydata '~/506/';
NOTE: Libref MYDATA was successfully assigned as follows: 
      Engine:        V9 
      Physical Name: /afs/umich.edu/user/x/i/xiaoyliu/506
1        !                         
2          filename ghcnd_gz pipe "gzip -dc 2014.csv.gz" lrecl=80;
3          
4          data ghcnd14(rename=(obsval=tmax14));
5               infile ghcnd_gz delimiter=",";
6               input station $ date : yymmdd8. obstype $ obsval;
7               format date mmddyy10.;
8               month = month(date);
9               if obstype="TMAX";
10              obsval=obsval/10;
11              if month=1;
12              day=day(date);
13              keep station day obsval;
14         

NOTE: The infile GHCND_GZ is:
      Pipe command="gzip -dc 2014.csv.gz"

NOTE: 33139529 records were read from the infile GHCND_GZ.
      The minimum record length was 32.
      The maximum record length was 40.
2                                                          The SAS System                            16:44 Tuesday, December 1, 2015

NOTE: The data set WORK.GHCND14 has 379120 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           24.17 seconds
      cpu time            24.13 seconds
      

15         proc sql;
15       !          
16              create table mntmax_14 as
17              select station,day,mean(tmax14) as mntmax14
18              from ghcnd14
19              group by station,day;
NOTE: Table WORK.MNTMAX_14 created, with 55379 rows and 3 columns.

19       !                           
20         quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.09 seconds
      cpu time            0.24 seconds
      

20       !      
21         
22         filename ghcnd_gz pipe "gzip -dc 2013.csv.gz" lrecl=80;
23         
24         data ghcnd13(rename=(obsval=tmax13));
25              infile ghcnd_gz delimiter=",";
26              input station $ date : yymmdd8. obstype $ obsval;
27              format date mmddyy10.;
28              month = month(date);
29              if obstype="TMAX";
30              obsval=obsval/10;
31              if month=1;
32              day=day(date);
33              keep station day obsval;
34         

NOTE: The infile GHCND_GZ is:
      Pipe command="gzip -dc 2013.csv.gz"

NOTE: 33879674 records were read from the infile GHCND_GZ.
      The minimum record length was 32.
      The maximum record length was 41.
NOTE: The data set WORK.GHCND13 has 410863 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           24.65 seconds
      cpu time            24.61 seconds
      

35         proc sql;
35       !          
36              create table mntmax_13 as
37              select station,day,mean(tmax13) as mntmax13
38              from ghcnd13
39              group by station,day;
NOTE: Table WORK.MNTMAX_13 created, with 56062 rows and 3 columns.

39       !                           
3                                                          The SAS System                            16:44 Tuesday, December 1, 2015

40         quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.09 seconds
      cpu time            0.26 seconds
      

40       !       
41         
42         data meantmax;
43              merge mntmax_14(in=x) mntmax_13(in=y);
44              by station day;
45              if x=1 and y=1;
46              tmax_diff=mntmax14-mntmax13;
47         

NOTE: There were 55379 observations read from the data set WORK.MNTMAX_14.
NOTE: There were 56062 observations read from the data set WORK.MNTMAX_13.
NOTE: The data set WORK.MEANTMAX has 52685 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
      

48         proc export data=meantmax dbms=tab outfile="meantmax.txt" replace;
48       !                                                                   
49         

50         proc univariate data=meantmax;
51          /**********************************************************************
52          *   PRODUCT:   SAS
53          *   VERSION:   9.3
54          *   CREATOR:   External File Interface
55          *   DATE:      01DEC15
56          *   DESC:      Generated SAS Datastep Code
57          *   TEMPLATE SOURCE:  (None Specified.)
58          ***********************************************************************/
59             data _null_;
60             %let _EFIERR_ = 0; /* set the ERROR detection macro variable */
61             %let _EFIREC_ = 0;     /* clear export record count macro variable */
62             file 'meantmax.txt' delimiter='09'x DSD DROPOVER lrecl=32767;
63             if _n_ = 1 then        /* write column names or labels */
64              do;
65                put
66                   "station"
67                '09'x
68                   "day"
69                '09'x
70                   "mntmax14"
71                '09'x
72                   "mntmax13"
73                '09'x
74                   "tmax_diff"
75                ;
76              end;
77            set  MEANTMAX   end=EFIEOD;
78                format station $8. ;
79                format day best12. ;
80                format mntmax14 best12. ;
4                                                          The SAS System                            16:44 Tuesday, December 1, 2015

81                format mntmax13 best12. ;
82                format tmax_diff best12. ;
83              do;
84                EFIOUT + 1;
85                put station $ @;
86                put day @;
87                put mntmax14 @;
88                put mntmax13 @;
89                put tmax_diff ;
90                ;
91              end;
92             if _ERROR_ then call symputx('_EFIERR_',1);  /* set ERROR detection macro variable */
93             if EFIEOD then call symputx('_EFIREC_',EFIOUT);
94             run;

NOTE: The file 'meantmax.txt' is:
      Filename=/afs/umich.edu/user/x/i/xiaoyliu/506/meantmax.txt,
      Owner Name=xiaoyliu,Group Name=wheel,
      Access Permission=rw-r--r--,
      Last Modified=Tue Dec  1 16:45:21 2015

NOTE: 52686 records were written to the file 'meantmax.txt'.
      The minimum record length was 16.
      The maximum record length was 50.
NOTE: There were 52685 observations read from the data set WORK.MEANTMAX.
NOTE: DATA statement used (Total process time):
      real time           0.15 seconds
      cpu time            0.10 seconds
      

52685 records created in meantmax.txt from MEANTMAX.
  
  
NOTE: "meantmax.txt" file was successfully created.
NOTE: PROCEDURE EXPORT used (Total process time):
      real time           1.45 seconds
      cpu time            0.13 seconds
      

95              var tmax_diff;
96              output out=tmax_diff_quantile pctlpts=10,90 pctlpre=tmax_diff;
97         

NOTE: The data set WORK.TMAX_DIFF_QUANTILE has 1 observations and 2 variables.
NOTE: The PROCEDURE UNIVARIATE printed pages 1-2.
NOTE: PROCEDURE UNIVARIATE used (Total process time):
      real time           0.11 seconds
      cpu time            0.03 seconds
      

98         proc print data=tmax_diff_quantile;
99         

NOTE: There were 1 observations read from the data set WORK.TMAX_DIFF_QUANTILE.
NOTE: The PROCEDURE PRINT printed page 3.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
5                                                          The SAS System                            16:44 Tuesday, December 1, 2015

      

100        data meantmax_10;
101             set meantmax;
102             if tmax_diff ge -9.366667 and tmax_diff lt 8.904706 then delete;
103        

NOTE: There were 52685 observations read from the data set WORK.MEANTMAX.
NOTE: The data set WORK.MEANTMAX_10 has 10536 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
      

104        data stations;
105             infile "ghcnd-stations.txt";
106             input station $ 1-11 lat 13-20 lon 22-30 elev 32-37 state $ 39-40;
107        

NOTE: The infile "ghcnd-stations.txt" is:
      Filename=/afs/umich.edu/user/x/i/xiaoyliu/506/ghcnd-stations.txt,
      Owner Name=xiaoyliu,Group Name=wheel,
      Access Permission=rw-r--r--,
      Last Modified=Tue Nov 17 10:53:58 2015,
      File Size (bytes)=8552184

NOTE: 99444 records were read from the infile "ghcnd-stations.txt".
      The minimum record length was 85.
      The maximum record length was 85.
NOTE: The data set WORK.STATIONS has 99444 observations and 5 variables.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.05 seconds
      

108        proc sort data=stations out=stations2;
109             by station;
110        

NOTE: There were 99444 observations read from the data set WORK.STATIONS.
NOTE: The data set WORK.STATIONS2 has 99444 observations and 5 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
      

111        data meantmax_10_map;
112             merge meantmax_10(in=x) stations2(in=y);
113             by station;
114             if x=1 and y=1;
115        

WARNING: Multiple lengths were specified for the BY variable station by input data sets. This may cause unexpected results.
NOTE: MERGE statement has more than one data set with repeats of BY values.
NOTE: There were 10536 observations read from the data set WORK.MEANTMAX_10.
NOTE: There were 99444 observations read from the data set WORK.STATIONS2.
NOTE: The data set WORK.MEANTMAX_10_MAP has 52731 observations and 9 variables.
NOTE: DATA statement used (Total process time):
6                                                          The SAS System                            16:44 Tuesday, December 1, 2015

      real time           0.01 seconds
      cpu time            0.01 seconds
      

116        proc export data=meantmax_10_map dbms=tab outfile="meantmaxmap.txt" replace;
117         /**********************************************************************
118         *   PRODUCT:   SAS
119         *   VERSION:   9.3
120         *   CREATOR:   External File Interface
121         *   DATE:      01DEC15
122         *   DESC:      Generated SAS Datastep Code
123         *   TEMPLATE SOURCE:  (None Specified.)
124         ***********************************************************************/
125            data _null_;
126            %let _EFIERR_ = 0; /* set the ERROR detection macro variable */
127            %let _EFIREC_ = 0;     /* clear export record count macro variable */
128            file 'meantmaxmap.txt' delimiter='09'x DSD DROPOVER lrecl=32767;
129            if _n_ = 1 then        /* write column names or labels */
130             do;
131               put
132                  "station"
133               '09'x
134                  "day"
135               '09'x
136                  "mntmax14"
137               '09'x
138                  "mntmax13"
139               '09'x
140                  "tmax_diff"
141               '09'x
142                  "lat"
143               '09'x
144                  "lon"
145               '09'x
146                  "elev"
147               '09'x
148                  "state"
149               ;
150             end;
151           set  MEANTMAX_10_MAP   end=EFIEOD;
152               format station $8. ;
153               format day best12. ;
154               format mntmax14 best12. ;
155               format mntmax13 best12. ;
156               format tmax_diff best12. ;
157               format lat best12. ;
158               format lon best12. ;
159               format elev best12. ;
160               format state $2. ;
161             do;
162               EFIOUT + 1;
163               put station $ @;
164               put day @;
165               put mntmax14 @;
166               put mntmax13 @;
167               put tmax_diff @;
168               put lat @;
169               put lon @;
7                                                          The SAS System                            16:44 Tuesday, December 1, 2015

170               put elev @;
171               put state $ ;
172               ;
173             end;
174            if _ERROR_ then call symputx('_EFIERR_',1);  /* set ERROR detection macro variable */
175            if EFIEOD then call symputx('_EFIREC_',EFIOUT);
176            run;

NOTE: The file 'meantmaxmap.txt' is:
      Filename=/afs/umich.edu/user/x/i/xiaoyliu/506/meantmaxmap.txt,
      Owner Name=xiaoyliu,Group Name=wheel,
      Access Permission=rw-r--r--,
      Last Modified=Tue Dec  1 16:45:22 2015

NOTE: 52732 records were written to the file 'meantmaxmap.txt'.
      The minimum record length was 35.
      The maximum record length was 78.
NOTE: There were 52731 observations read from the data set WORK.MEANTMAX_10_MAP.
NOTE: DATA statement used (Total process time):
      real time           0.26 seconds
      cpu time            0.18 seconds
      

52731 records created in meantmaxmap.txt from MEANTMAX_10_MAP.
  
  
NOTE: "meantmaxmap.txt" file was successfully created.
NOTE: PROCEDURE EXPORT used (Total process time):
      real time           0.30 seconds
      cpu time            0.21 seconds
      


NOTE: SAS Institute Inc., SAS Campus Drive, Cary, NC USA 27513-2414
NOTE: The SAS System used:
      real time           51.36 seconds
      cpu time            49.73 seconds
      
